----item----
version: 1
id: {A72FE340-D773-4D9B-9743-4DECD653CB5C}
database: master
path: /sitecore/media library/Themes/Habitat Sites/Habitat/Habitat/scripts/component-accordions
parent: {809BDE22-208D-499C-97E1-E6D854266115}
name: component-accordions
master: {00000000-0000-0000-0000-000000000000}
template: {962B53C4-F93B-4DF9-9821-415C867B8903}
templatekey: File
created: 20171031T140237Z

----field----
field: {40E50ED9-BA07-4702-992E-A912738D32DC}
name: Blob
key: blob
content-length: 19310

LyogZ2xvYmFsIF86dHJ1ZSAqLw0KWEEuY29tcG9uZW50LmFjY29yZGlvbnMgPSAoZnVuY3Rpb24o
JCkgew0KICAgIHZhciBwdWIgPSB7fTsNCg0KICAgIGZ1bmN0aW9uIHBhZ2VFZGl0b3IoKSB7DQog
ICAgICAgIGlmICgkKCdib2R5JykuaGFzQ2xhc3MoJ29uLXBhZ2UtZWRpdG9yJykpIHsNCiAgICAg
ICAgICAgIFNpdGVjb3JlLlBhZ2VNb2Rlcy5DaHJvbWVNYW5hZ2VyLnJlc2V0Q2hyb21lcygpOyAv
L3BhZ2UgZWRpdG9yIGxpbmVzIGZpeA0KICAgICAgICB9DQogICAgfQ0KDQogICAgdmFyIHRvb2ds
ZUV2ZW50cyA9IHsNCiAgICAgICAgZm9jdXM6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgJCh0
aGlzKS5hZGRDbGFzcygic2hvdyIpOw0KICAgICAgICB9LA0KICAgICAgICBibHVyOiBmdW5jdGlv
bigpIHsNCiAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoInNob3ciKTsNCiAgICAgICAg
fQ0KICAgIH07DQoNCiAgICBmdW5jdGlvbiBoZWFkZXJCYWNrZ3JvdW5kKGhlYWRlcikgew0KICAg
ICAgICB2YXIgYmFja2dyb3VuZEljb24gPSAkKGhlYWRlciksDQogICAgICAgICAgICBiYWNrZ3Jv
dW5kID0gJChoZWFkZXIpLmZpbmQoJ2ltZycpLA0KICAgICAgICAgICAgYmFja2dyb3VuZFNyYyA9
IGJhY2tncm91bmQuYXR0cignc3JjJyk7DQoNCiAgICAgICAgaWYgKGJhY2tncm91bmRTcmMpIHsN
CiAgICAgICAgICAgIGJhY2tncm91bmRJY29uLnBhcmVudHMoJy5hY2NvcmRpb24nKS5hZGRDbGFz
cygnYWNjb3JkaW9uLWltYWdlJyk7DQoNCiAgICAgICAgICAgIGJhY2tncm91bmRJY29uLmNzcyh7
DQogICAgICAgICAgICAgICAgJ2JhY2tncm91bmQnOiAndXJsKCcgKyBiYWNrZ3JvdW5kU3JjICsg
JyknLA0KICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLXJlcGVhdCc6ICduby1yZXBlYXQnLA0K
ICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLXNpemUnOiAnY292ZXInLA0KICAgICAgICAgICAg
ICAgICdiYWNrZ3JvdW5kLXBvc2l0aW9uJzogJzUwJSAxMDAlJw0KICAgICAgICAgICAgfSk7DQoN
CiAgICAgICAgICAgIGJhY2tncm91bmQuaGlkZSgpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAg
ZnVuY3Rpb24gY2FsY1NsaWRlU2l6ZShhY2MpIHsNCiAgICAgICAgdmFyIGFjY29yZGlvbldpZHRo
ID0gJChhY2MpLndpZHRoKCksDQogICAgICAgICAgICBhY2NvcmRpb25JdGVtcyA9ICQoYWNjKS5m
aW5kKCcuaXRlbScpLA0KICAgICAgICAgICAgbWF4SGVpZ2h0ID0gMDsNCg0KICAgICAgICBfLmVh
Y2goYWNjb3JkaW9uSXRlbXMsIGZ1bmN0aW9uKGl0ZW0pIHsNCiAgICAgICAgICAgIHZhciBpdGVt
Q29udGVudCA9ICQoaXRlbSkuZmluZCgnLnRvZ2dsZS1jb250ZW50JyksDQogICAgICAgICAgICAg
ICAgaXRlbUhlYWRlciA9ICQoaXRlbSkuZmluZCgnLnRvZ2dsZS1oZWFkZXInKSwNCiAgICAgICAg
ICAgICAgICBzbGlkZVdpZHRoID0gYWNjb3JkaW9uV2lkdGggLSAoYWNjb3JkaW9uSXRlbXMubGVu
Z3RoICogaXRlbUhlYWRlci5vdXRlcldpZHRoKCkpOw0KDQogICAgICAgICAgICBpZiAoJChpdGVt
KS5oYXNDbGFzcygnYWN0aXZlJykpIHsNCiAgICAgICAgICAgICAgICAkKGl0ZW0pLmNzcyh7DQog
ICAgICAgICAgICAgICAgICAgICd3aWR0aCc6IHNsaWRlV2lkdGgNCiAgICAgICAgICAgICAgICB9
KTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy93aWR0aA0KICAgICAgICAgICAgaXRl
bUNvbnRlbnQuY3NzKHsNCiAgICAgICAgICAgICAgICAnd2lkdGgnOiAoJChhY2MpLmhhc0NsYXNz
KCdhY2NvcmRpb24taW1hZ2UnKSkgPyBzbGlkZVdpZHRoICsgaXRlbUhlYWRlci5vdXRlcldpZHRo
KCkgOiBzbGlkZVdpZHRoIC0gaXRlbUhlYWRlci5vdXRlcldpZHRoKCkgLSBwYXJzZUludChpdGVt
SGVhZGVyLmNzcygncGFkZGluZycpKQ0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIC8v
aGVpZ2h0DQogICAgICAgICAgICBpZiAoJChpdGVtKS5maW5kKCcudG9nZ2xlLWNvbnRlbnQnKS5o
ZWlnaHQoKSA+IG1heEhlaWdodCkgew0KICAgICAgICAgICAgICAgIG1heEhlaWdodCA9ICQoaXRl
bSkuZmluZCgnLnRvZ2dsZS1jb250ZW50JykuaGVpZ2h0KCk7DQogICAgICAgICAgICB9DQogICAg
ICAgIH0pOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGFuaW1hdGVIb3Jpem9udGFsKHByb3BlcnRp
ZXMpIHsNCiAgICAgICAgdmFyIGFjY29yZGlvbiA9ICQodGhpcykucGFyZW50cygnLmFjY29yZGlv
bicpLA0KICAgICAgICAgICAgcGFuZWwgPSAkKHRoaXMpLmNsb3Nlc3QoJy5pdGVtJyksDQogICAg
ICAgICAgICBoZWFkZXIgPSBwYW5lbC5maW5kKCcudG9nZ2xlLWhlYWRlcicpLA0KICAgICAgICAg
ICAgY29udGVudCA9IHBhbmVsLmZpbmQoJy50b2dnbGUtY29udGVudCcpLA0KICAgICAgICAgICAg
aXRlbXMgPSBhY2NvcmRpb24uZmluZCgnLml0ZW0nKSwNCiAgICAgICAgICAgIHNpYmxpbmdzID0g
cGFuZWwuc2libGluZ3MoKSwNCiAgICAgICAgICAgIHNpYmxpbmdzQ29udGVudCA9IHNpYmxpbmdz
LmZpbmQoJy50b2dnbGUtY29udGVudCcpOw0KDQogICAgICAgIHNpYmxpbmdzLnN0b3AodHJ1ZSku
YW5pbWF0ZSh7DQogICAgICAgICAgICAid2lkdGgiOiAwDQogICAgICAgIH0sIHByb3BlcnRpZXMu
c3BlZWQsIHByb3BlcnRpZXMuZWFzaW5nLCBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHNpYmxp
bmdzQ29udGVudC5jc3Moew0KICAgICAgICAgICAgICAgICJkaXNwbGF5IjogIm5vbmUiDQogICAg
ICAgICAgICB9KTsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgaWYgKHBhbmVsLmhhc0NsYXNzKCdh
Y3RpdmUnKSkgew0KDQogICAgICAgICAgICB2YXIgc2xpZGVXaWR0aCA9IGFjY29yZGlvbi5oYXND
bGFzcygnYWNjb3JkaW9uLWltYWdlJykgPyBjb250ZW50Lm91dGVyV2lkdGgoKSA6IChhY2NvcmRp
b24ub3V0ZXJXaWR0aCgpIC0gKChpdGVtcy5sZW5ndGggLSAxKSAqIHBhbmVsLm91dGVyV2lkdGgo
KSArIDIpKSwNCiAgICAgICAgICAgICAgICBjb250ZW50V2lkdGggPSBhY2NvcmRpb24uaGFzQ2xh
c3MoJ2FjY29yZGlvbi1pbWFnZScpID8gc2xpZGVXaWR0aCA6IHNsaWRlV2lkdGggLSBoZWFkZXIu
b3V0ZXJXaWR0aCgpOw0KDQogICAgICAgICAgICBwYW5lbC5zdG9wKHRydWUpLmFuaW1hdGUoew0K
ICAgICAgICAgICAgICAgICJ3aWR0aCI6IHNsaWRlV2lkdGgNCiAgICAgICAgICAgIH0sIHByb3Bl
cnRpZXMuc3BlZWQsIHByb3BlcnRpZXMuZWFzaW5nLCBmdW5jdGlvbigpIHsNCg0KICAgICAgICAg
ICAgfSk7DQoNCg0KICAgICAgICAgICAgY29udGVudC5jc3Moew0KICAgICAgICAgICAgICAgICJ3
aWR0aCI6IGNvbnRlbnRXaWR0aCwNCiAgICAgICAgICAgICAgICAiZGlzcGxheSI6ICJibG9jayIN
CiAgICAgICAgICAgIH0pOw0KDQogICAgICAgIH0gZWxzZSB7DQoNCiAgICAgICAgICAgIHBhbmVs
LnN0b3AodHJ1ZSkuYW5pbWF0ZSh7DQogICAgICAgICAgICAgICAgIndpZHRoIjogMA0KICAgICAg
ICAgICAgfSwgcHJvcGVydGllcy5zcGVlZCwgcHJvcGVydGllcy5lYXNpbmcsIGZ1bmN0aW9uKCkg
ew0KICAgICAgICAgICAgICAgIGNvbnRlbnQuY3NzKHsNCiAgICAgICAgICAgICAgICAgICAgImRp
c3BsYXkiOiAibm9uZSINCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0pOw0KICAg
ICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gYWNjb3JkaW9uKGFjYywgcHJvcGVydGllcykg
ew0KICAgICAgICB2YXIgZXYgPSAnY2xpY2snLA0KICAgICAgICAgICAgJGJvZHkgPSAkKCdib2R5
JyksDQogICAgICAgICAgICB0b2dnbGVIZWFkZXIgPSBhY2MuZmluZCgnLnRvZ2dsZS1oZWFkZXIn
KTsNCg0KICAgICAgICBpZiAocHJvcGVydGllcy5leHBhbmRPbkhvdmVyKSB7DQogICAgICAgICAg
ICBpZiAoISRib2R5Lmhhc0NsYXNzKCdvbi1wYWdlLWVkaXRvcicpKSB7DQogICAgICAgICAgICAg
ICAgZXYgPSAnbW91c2VlbnRlcic7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAg
ICAgIGV2ID0gJ2NsaWNrJzsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICB9DQoNCiAgICAgICAg
dG9nZ2xlSGVhZGVyLm9uKCJtb3VzZW92ZXIiLCB0b29nbGVFdmVudHMuZm9jdXMpOw0KICAgICAg
ICB0b2dnbGVIZWFkZXIub24oIm1vdXNlbGVhdmUiLCB0b29nbGVFdmVudHMuYmx1cik7DQogICAg
ICAgIHRvZ2dsZUhlYWRlci5vbigiZm9jdXMiLCB0b29nbGVFdmVudHMuZm9jdXMpOw0KICAgICAg
ICB0b2dnbGVIZWFkZXIub24oImJsdXIiLCB0b29nbGVFdmVudHMuYmx1cik7DQogICAgICAgIHRv
Z2dsZUhlYWRlci5vbigia2V5dXAiLCBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICBpZiAoZS5r
ZXlDb2RlID09IDEzKSB7DQogICAgICAgICAgICAgICAgJCh0aGlzKS5jbGljaygpOw0KICAgICAg
ICAgICAgfQ0KICAgICAgICB9KTsNCg0KDQogICAgICAgIGlmIChhY2MuaGFzQ2xhc3MoJ2FjY29y
ZGlvbi1ob3Jpem9udGFsJykpIHsNCiAgICAgICAgICAgIC8vY2FsYyBzbGlkZSB3aWR0aA0KICAg
ICAgICAgICAgJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAg
ICAgY2FsY1NsaWRlU2l6ZShhY2MpOw0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIF8u
ZWFjaCh0b2dnbGVIZWFkZXIsIGZ1bmN0aW9uKGhlYWRlcikgew0KICAgICAgICAgICAgICAgIGhl
YWRlckJhY2tncm91bmQoaGVhZGVyKTsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgIH0NCg0K
ICAgICAgICBpZiAoJCgnYm9keScpLmhhc0NsYXNzKCdvbi1wYWdlLWVkaXRvcicpKSB7DQogICAg
ICAgICAgICB0b2dnbGVIZWFkZXIgPSB0b2dnbGVIZWFkZXIuZmluZCgnLmNvbXBvbmVudC1jb250
ZW50Jyk7DQogICAgICAgIH0NCiAgICAgICAgdG9nZ2xlSGVhZGVyLm9uKGV2LCBmdW5jdGlvbigp
IHsNCiAgICAgICAgICAgIHZhciBhY2NvcmRpb24gPSAkKHRoaXMpLnBhcmVudHMoJy5hY2NvcmRp
b24nKSwNCiAgICAgICAgICAgICAgICBwYW5lbCA9ICQodGhpcykuY2xvc2VzdCgnLml0ZW0nKSwN
CiAgICAgICAgICAgICAgICAkYm9keSA9ICQoJ2JvZHknKSwNCiAgICAgICAgICAgICAgICBjb250
ZW50ID0gcGFuZWwuZmluZCgnLnRvZ2dsZS1jb250ZW50JyksDQogICAgICAgICAgICAgICAgc2li
bGluZ3MgPSBwYW5lbC5zaWJsaW5ncygpLA0KICAgICAgICAgICAgICAgIHNpYmxpbmdzQ29udGVu
dCA9IHNpYmxpbmdzLmZpbmQoJy50b2dnbGUtY29udGVudCcpLA0KICAgICAgICAgICAgICAgIHRp
bWVvdXRJZDsNCg0KICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24oKSB7DQogICAg
ICAgICAgICAgICAgcGFnZUVkaXRvcigpOw0KICAgICAgICAgICAgfTsNCg0KICAgICAgICAgICAg
aWYgKCFwcm9wZXJ0aWVzLmV4cGFuZE9uSG92ZXIpIHsNCiAgICAgICAgICAgICAgICBpZiAocHJv
cGVydGllcy5jYW5PcGVuTXVsdGlwbGUpIHsNCiAgICAgICAgICAgICAgICAgICAgcGFuZWwudG9n
Z2xlQ2xhc3MoJ2FjdGl2ZScpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoYWNjb3JkaW9uLmhh
c0NsYXNzKCJhY2NvcmRpb24taG9yaXpvbnRhbCIpKSB7DQogICAgICAgICAgICAgICAgICAgICAg
ICBhbmltYXRlSG9yaXpvbnRhbC5jYWxsKHRoaXMsIHByb3BlcnRpZXMpOw0KICAgICAgICAgICAg
ICAgICAgICB9IGVsc2Ugew0KDQogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQuc3RvcCgpLnNs
aWRlVG9nZ2xlKHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogcHJvcGVy
dGllcy5zcGVlZCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYXNpbmc6IHByb3BlcnRp
ZXMuZWFzaW5nDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAg
ICAgICAgY2FsbGJhY2spOw0KICAgICAgICAgICAgICAgICAgICB9DQoNCg0KICAgICAgICAgICAg
ICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzLmNhblRvZ2ds
ZSkgew0KDQoNCiAgICAgICAgICAgICAgICAgICAgICAgIHNpYmxpbmdzLnJlbW92ZUNsYXNzKCdh
Y3RpdmUnKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgcGFuZWwudG9nZ2xlQ2xhc3MoJ2Fj
dGl2ZScpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWNjb3JkaW9uLmhhc0NsYXNz
KCJhY2NvcmRpb24taG9yaXpvbnRhbCIpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAg
Ly9hbmltYXRpb24gZm9yIGhvcml6b250YWwgYWNjb3JkaW9uDQogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgYW5pbWF0ZUhvcml6b250YWwuY2FsbCh0aGlzLCBwcm9wZXJ0aWVzKTsNCg0KICAg
ICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBzaWJsaW5nc0NvbnRlbnQuc3RvcCgpLnNsaWRlVXAoew0KICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgZHVyYXRpb246IHByb3BlcnRpZXMuc3BlZWQsDQogICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBlYXNpbmc6IHByb3BlcnRpZXMuZWFzaW5nDQogICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIGNhbGxiYWNrKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQuc3Rv
cCgpLnNsaWRlVG9nZ2xlKHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1
cmF0aW9uOiBwcm9wZXJ0aWVzLnNwZWVkLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgZWFzaW5nOiBwcm9wZXJ0aWVzLmVhc2luZw0KICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayk7DQog
ICAgICAgICAgICAgICAgICAgICAgICB9DQoNCg0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ug
ew0KICAgICAgICAgICAgICAgICAgICAgICAgc2libGluZ3MucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScp
Ow0KICAgICAgICAgICAgICAgICAgICAgICAgc2libGluZ3NDb250ZW50LnNsaWRlVXAoew0KICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogcHJvcGVydGllcy5zcGVlZCwN
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiBwcm9wZXJ0aWVzLmVhc2lu
Zw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAg
ICAgICAgY2FsbGJhY2spOw0KDQogICAgICAgICAgICAgICAgICAgICAgICBwYW5lbC5hZGRDbGFz
cygnYWN0aXZlJyk7DQogICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50LnNsaWRlRG93bih7
DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBwcm9wZXJ0aWVzLnNw
ZWVkLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYXNpbmc6IHByb3BlcnRpZXMu
ZWFzaW5nDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBjYWxsYmFjayk7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAg
ICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgaWYgKHByb3Bl
cnRpZXMuY2FuVG9nZ2xlKSB7DQogICAgICAgICAgICAgICAgICAgIHBhbmVsLnVuYmluZCgnbW91
c2VsZWF2ZScpOw0KDQogICAgICAgICAgICAgICAgICAgIGlmICghJGJvZHkuaGFzQ2xhc3MoJ29u
LXBhZ2UtZWRpdG9yJykpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHBhbmVsLm9uKCdtb3Vz
ZWxlYXZlJywgZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91
dElkID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgcGFuZWwucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpOw0KICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBpZiAoYWNjb3JkaW9uLmhhc0NsYXNzKCJhY2NvcmRpb24taG9yaXpvbnRhbCIp
KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FuaW1hdGlvbiBmb3Ig
aG9yaXpvbnRhbCBhY2NvcmRpb24NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IGFuaW1hdGVIb3Jpem9udGFsLmNhbGwodGhpcywgcHJvcGVydGllcyk7DQoNCiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGNvbnRlbnQuc3RvcCgpLnNsaWRlVXAoew0KICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogcHJvcGVydGllcy5zcGVlZCwNCiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiBwcm9wZXJ0aWVz
LmVhc2luZw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2spOw0KDQogICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9
LCAzMDApOw0KDQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAg
ICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICRib2R5Lm9uKCdjbGljaycsIGZ1
bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXRJZCA9IHNldFRp
bWVvdXQoZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhbmVs
LnJlbW92ZUNsYXNzKCdhY3RpdmUnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
aWYgKGFjY29yZGlvbi5oYXNDbGFzcygiYWNjb3JkaW9uLWhvcml6b250YWwiKSkgew0KICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9hbmltYXRpb24gZm9yIGhvcml6b250YWwg
YWNjb3JkaW9uDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRlSG9y
aXpvbnRhbC5jYWxsKHRoaXMsIHByb3BlcnRpZXMpOw0KDQogICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBj
b250ZW50LnN0b3AoKS5zbGlkZVVwKHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgZHVyYXRpb246IHByb3BlcnRpZXMuc3BlZWQsDQogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVhc2luZzogcHJvcGVydGllcy5lYXNpbmcNCiAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKTsNCg0KICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMzAwKTsNCg0K
ICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KDQoN
CiAgICAgICAgICAgICAgICAgICAgY29udGVudC51bmJpbmQoJ21vdXNlZW50ZXInKTsNCiAgICAg
ICAgICAgICAgICAgICAgY29udGVudC5vbignbW91c2VlbnRlcicsIGZ1bmN0aW9uKCkgew0KICAg
ICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7DQogICAgICAgICAg
ICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAoYWNj
b3JkaW9uLmhhc0NsYXNzKCJhY2NvcmRpb24taG9yaXpvbnRhbCIpKSB7DQogICAgICAgICAgICAg
ICAgICAgIHNpYmxpbmdzLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTsNCg0KICAgICAgICAgICAgICAg
ICAgICBwYW5lbC50b2dnbGVDbGFzcygnYWN0aXZlJyk7DQogICAgICAgICAgICAgICAgICAgIC8v
YW5pbWF0aW9uIGZvciBob3Jpem9udGFsIGFjY29yZGlvbg0KICAgICAgICAgICAgICAgICAgICBh
bmltYXRlSG9yaXpvbnRhbC5jYWxsKHRoaXMsIHByb3BlcnRpZXMpOw0KDQogICAgICAgICAgICAg
ICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgc2libGluZ3MucmVtb3ZlQ2xhc3MoJ2Fj
dGl2ZScpOw0KICAgICAgICAgICAgICAgICAgICBzaWJsaW5nc0NvbnRlbnQuc3RvcCgpLnNsaWRl
VXAoew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBwcm9wZXJ0aWVzLnNw
ZWVkLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVhc2luZzogcHJvcGVydGllcy5lYXNp
bmcNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICBj
YWxsYmFjayk7DQoNCiAgICAgICAgICAgICAgICAgICAgcGFuZWwuYWRkQ2xhc3MoJ2FjdGl2ZScp
Ow0KICAgICAgICAgICAgICAgICAgICBjb250ZW50LnNsaWRlRG93bih7DQogICAgICAgICAgICAg
ICAgICAgICAgICAgICAgZHVyYXRpb246IHByb3BlcnRpZXMuc3BlZWQsDQogICAgICAgICAgICAg
ICAgICAgICAgICAgICAgZWFzaW5nOiBwcm9wZXJ0aWVzLmVhc2luZw0KICAgICAgICAgICAgICAg
ICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKTsNCiAgICAgICAg
ICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0NCg0KICAgIGZ1bmN0
aW9uIGRpc2FibGVFbXB0eUFjY29yZGlvbnMoJGFjY29yZGlvbikgew0KICAgICAgICB2YXIgZW1w
dHlQbGFjZWhvbGRlcnMgPSAkYWNjb3JkaW9uLmZpbmQoIi5pdGVtIC5zY0VtcHR5UGxhY2Vob2xk
ZXIiKSwNCiAgICAgICAgICAgIGksIGxlbmd0aCwNCiAgICAgICAgICAgIHBsYWNlaG9sZGVyQ29k
ZVRhZywNCiAgICAgICAgICAgIHBhcmVudCwNCiAgICAgICAgICAgICRwbGFjZWhvbGRlciwNCiAg
ICAgICAgICAgIHBsYWNlaG9sZGVySWQsDQogICAgICAgICAgICBwbGFjZWhvbGRlcktleSwNCiAg
ICAgICAgICAgIGVkaXRGcmFtZSwNCiAgICAgICAgICAgIGNocm9tZUtleSwNCiAgICAgICAgICAg
IGg7DQoNCiAgICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gZW1wdHlQbGFjZWhvbGRlcnMubGVu
Z3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICRwbGFjZWhvbGRlciA9ICQoZW1w
dHlQbGFjZWhvbGRlcnNbaV0pOw0KICAgICAgICAgICAgcGxhY2Vob2xkZXJJZCA9ICRwbGFjZWhv
bGRlci5hdHRyKCJzYy1wbGFjZWhvbGRlci1pZCIpOw0KDQogICAgICAgICAgICAvL2Rpc2FibGUg
ZWRpdCBmcmFtZXMNCiAgICAgICAgICAgIHBsYWNlaG9sZGVyQ29kZVRhZyA9ICRwbGFjZWhvbGRl
ci5zaWJsaW5ncygiY29kZVtjaHJvbWV0eXBlPSdwbGFjZWhvbGRlciddW2lkPSciICsgcGxhY2Vo
b2xkZXJJZCArICInXSIpOw0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICBwbGFj
ZWhvbGRlcktleSA9IHBsYWNlaG9sZGVyQ29kZVRhZy5hdHRyKCJrZXkiKTsNCiAgICAgICAgICAg
ICAgICBpZiAodHlwZW9mKHBsYWNlaG9sZGVyS2V5KSA9PT0gInN0cmluZyIpIHsNCiAgICAgICAg
ICAgICAgICAgICAgZWRpdEZyYW1lID0gU2l0ZWNvcmUuUGFnZU1vZGVzLkNocm9tZU1hbmFnZXIu
Y2hyb21lcygpLmZpbHRlcihmdW5jdGlvbihjaHJvbWUpIHsNCiAgICAgICAgICAgICAgICAgICAg
ICAgIGNocm9tZUtleSA9IGNocm9tZS5vcGVuaW5nTWFya2VyKCk7DQogICAgICAgICAgICAgICAg
ICAgICAgICBpZiAoIWNocm9tZUtleSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJl
dHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAg
ICAgICAgICAgY2hyb21lS2V5ID0gY2hyb21lS2V5LmF0dHIoImtleSIpOw0KICAgICAgICAgICAg
ICAgICAgICAgICAgcmV0dXJuIHR5cGVvZihjaHJvbWVLZXkpICE9PSAidW5kZWZpbmVkIiAmJiBj
aHJvbWVLZXkuaW5kZXhPZihwbGFjZWhvbGRlcktleSkgPT09IDA7DQogICAgICAgICAgICAgICAg
ICAgIH0pOw0KDQogICAgICAgICAgICAgICAgICAgIGVkaXRGcmFtZVswXS50eXBlLmNocm9tZS5k
YXRhLmN1c3RvbS5lZGl0YWJsZSA9ICJmYWxzZSI7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsN
CiAgICAgICAgICAgICAgICAgICAgdGhyb3cgNjY2Ow0KICAgICAgICAgICAgICAgIH0NCiAgICAg
ICAgICAgIH0gY2F0Y2ggKGUpIHsgLy9mYWxsYmFjayAtIGRlbGV0ZSBjb2RlIHRhZ3MgdG8gcHJl
dmVudCBpbnNlcnRpbmcgaW50byBwbGFjZWhvbGRlcnMNCiAgICAgICAgICAgICAgICAkcGxhY2Vo
b2xkZXIuc2libGluZ3MoImNvZGVbY2hyb21ldHlwZT0ncGxhY2Vob2xkZXInXSIpLnJlbW92ZSgp
Ow0KICAgICAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWFsZXJ0LCBuby1jb25zb2xl
ICovDQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIkNvdWxkIG5vdCBkaXNhYmxlIGVkaXRp
bmcgZm9yIHBsYWNlaG9sZGVyIiwgZSk7DQogICAgICAgICAgICAgICAgLyogZXNsaW50LWVuYWJs
ZSBuby1hbGVydCwgbm8tY29uc29sZSAqLw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAv
L2FkanVzdCBoZWlnaHQsIGFuZCByZW1vdmUgcGxhY2Vob2xkZXIgImRhc2hlZCIgYmFja2dyb3Vu
ZA0KICAgICAgICAgICAgcGFyZW50ID0gJHBsYWNlaG9sZGVyLnBhcmVudHMoIi50b2dnbGUtaGVh
ZGVyIik7DQogICAgICAgICAgICBpZiAocGFyZW50Lmxlbmd0aCAhPT0gMCkgew0KICAgICAgICAg
ICAgICAgIGggPSBwYXJzZUludChwYXJlbnQuY3NzKCJmb250LXNpemUiKSkgKiAyIHx8ICgkcGxh
Y2Vob2xkZXIuaGVpZ2h0KCkgLyAzKTsNCiAgICAgICAgICAgICAgICAkcGxhY2Vob2xkZXIuYXBw
ZW5kKCQoIjxwPltObyBjb21wb25lbnRzIGluIGhlYWRlcl08L3A+IikpOw0KICAgICAgICAgICAg
fSBlbHNlIHsNCiAgICAgICAgICAgICAgICBoID0gJHBsYWNlaG9sZGVyLmhlaWdodCgpOw0KICAg
ICAgICAgICAgICAgICRwbGFjZWhvbGRlci5hcHBlbmQoJCgiPHA+W05vIGNvbXBvbmVudHMgaW4g
c2VjdGlvbl08L3A+IikpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaCArPSAicHgiOw0K
ICAgICAgICAgICAgJHBsYWNlaG9sZGVyLnJlbW92ZUNsYXNzKCJzY0VtcHR5UGxhY2Vob2xkZXIi
KTsNCiAgICAgICAgICAgICRwbGFjZWhvbGRlci5jc3MoImhlaWdodCIsIGgpOw0KICAgICAgICB9
DQoNCiAgICB9DQoNCiAgICBwdWIuaW5pdCA9IGZ1bmN0aW9uKCkgew0KICAgICAgICB2YXIgYWNj
b3JkaW9ucyA9ICQoJy5hY2NvcmRpb246bm90KC5pbml0aWFsaXplZCknKTsNCg0KICAgICAgICBh
Y2NvcmRpb25zLmVhY2goZnVuY3Rpb24oKSB7DQogICAgICAgICAgICB2YXIgcHJvcGVydGllcyA9
ICQodGhpcykuZGF0YSgncHJvcGVydGllcycpLA0KICAgICAgICAgICAgICAgIGFjYyA9ICQodGhp
cyk7DQoNCiAgICAgICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCd0b2dnbGUnKSkgew0KICAg
ICAgICAgICAgICAgICQuZXh0ZW5kKHByb3BlcnRpZXMsIHsNCiAgICAgICAgICAgICAgICAgICAg
J2NhblRvZ2dsZSc6IHRydWUsDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQoN
CiAgICAgICAgICAgIGFjYy5maW5kKCcudG9nZ2xlLWNvbnRlbnQnKS5oaWRlKCk7DQogICAgICAg
ICAgICBpZiAocHJvcGVydGllcy5leHBhbmRlZEJ5RGVmYXVsdCkgew0KICAgICAgICAgICAgICAg
IGFjYy5maW5kKCdsaTpmaXJzdC1jaGlsZCcpLmFkZENsYXNzKCdhY3RpdmUnKTsNCiAgICAgICAg
ICAgICAgICBhY2MuZmluZCgnbGk6Zmlyc3QtY2hpbGQnKS5maW5kKCcudG9nZ2xlLWNvbnRlbnQn
KS5zaG93KCk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGFjY29yZGlvbihhY2MsIHBy
b3BlcnRpZXMpOw0KICAgICAgICAgICAgZGlzYWJsZUVtcHR5QWNjb3JkaW9ucyhhY2MpOw0KICAg
ICAgICAgICAgYWNjLmFkZENsYXNzKCdpbml0aWFsaXplZCcpOw0KICAgICAgICB9KTsNCiAgICB9
Ow0KDQogICAgcmV0dXJuIHB1YjsNCg0KfShqUXVlcnkpKTsNCg0KWEEucmVnaXN0ZXIoJ2FjY29y
ZGlvbnMnLCBYQS5jb21wb25lbnQuYWNjb3JkaW9ucyk7
----field----
field: {C06867FE-9A43-4C7D-B739-48780492D06F}
name: Extension
key: extension
content-length: 2

js
----field----
field: {6F47A0A5-9C94-4B48-ABEB-42D38DEF6054}
name: Mime Type
key: mime type
content-length: 24

application/x-javascript
----field----
field: {6954B7C7-2487-423F-8600-436CB3B6DC0E}
name: Size
key: size
content-length: 5

14112
----field----
field: {06D5295C-ED2F-4A54-9BF2-26228D113318}
name: __Icon
key: __icon
content-length: 61

-/media/26E8063CCA2F4A50973BDD32FFE748F0.ashx?h=16&thn=1&w=16
----version----
language: en
version: 1
revision: 325797eb-2754-4ad1-91ca-b3e021ef4fbf

----field----
field: {25BED78C-4957-4165-998A-CA1B52F67497}
name: __Created
key: __created
content-length: 16

20171027T151626Z
----field----
field: {5DD74568-4D4B-44C1-B513-0AF5F4CDA34F}
name: __Created by
key: __created by
content-length: 22

sitecore\virtualssuser
----field----
field: {8CDC337E-A112-42FB-BBB4-4143751E123F}
name: __Revision
key: __revision
content-length: 36

325797eb-2754-4ad1-91ca-b3e021ef4fbf
----field----
field: {D9CF14B1-FA16-4BA6-9288-E8A174D4D522}
name: __Updated
key: __updated
content-length: 16

20171031T140237Z
----field----
field: {BADD9CF9-53E0-4D0C-BCC0-2D784C282F6A}
name: __Updated by
key: __updated by
content-length: 16

sitecore\unicorn
----version----
language: en
version: 2
revision: 40ab635f-afc9-4a00-844d-316c5bfa0aa2

----field----
field: {25BED78C-4957-4165-998A-CA1B52F67497}
name: __Created
key: __created
content-length: 16

20171027T151626Z
----field----
field: {5DD74568-4D4B-44C1-B513-0AF5F4CDA34F}
name: __Created by
key: __created by
content-length: 22

sitecore\virtualssuser
----field----
field: {8CDC337E-A112-42FB-BBB4-4143751E123F}
name: __Revision
key: __revision
content-length: 36

40ab635f-afc9-4a00-844d-316c5bfa0aa2
----field----
field: {D9CF14B1-FA16-4BA6-9288-E8A174D4D522}
name: __Updated
key: __updated
content-length: 16

20171031T140237Z
----field----
field: {BADD9CF9-53E0-4D0C-BCC0-2D784C282F6A}
name: __Updated by
key: __updated by
content-length: 16

sitecore\unicorn
